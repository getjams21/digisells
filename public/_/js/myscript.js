$(document).on("change",".btn-file :file",function(){var e=$(this),t=e.get(0).files?e.get(0).files.length:1,a=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[t,a])}),$(document).ready(function(){function e(e){$(".error-msg").text(e),$(".error-panel").animate({opacity:"1",width:"100%"},300)}function t(){$(".error-msg").text(""),$(".error-panel").animate({opacity:"0",width:"0%"},300)}function a(){if(""!=$("#MinimumPrice").val()){var t=parseFloat($("#MinimumPrice").val());if(0!=t){var a=.05*t,o=t+a;$("#bid-price").text("$"+o.toFixed(2)),$(".customized-bid").hide(),$(".next-bid-info").show()}else $(".next-bid-info").hide(),e("Minimum Price must NOT be 0")}else $(".next-bid-info").hide(),e("Minimum Price must NOT be EMPTY!")}function o(a){var o=$("#MinimumPrice").val();if(t(),""!=o)if(0!=o){var i=parseFloat(a);o=parseFloat(o);var n=parseFloat(i+o);$("#customBid").text("$"+n.toFixed(2)),$(".next-bid-info").hide(),$(".customized-bid").show()}else e("Minimum Price must NOT be 0");else $(".customized-bid").hide(),e("Minimum Price must NOT be EMPTY")}function i(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}function n(){var e=document.getElementById("password"),t=e.value,a=document.getElementById("password_confirmation"),o=document.getElementById("confirmMessage"),i=document.getElementById("confirmMessage2");t.length>=6&&t.length<=20?(o.innerHTML=" ",e.value==a.value?(e.style.backgroundColor=D,a.style.backgroundColor=I,i.style.color=I,i.innerHTML="Passwords Match!"):(e.style.backgroundColor=M,a.style.backgroundColor=M,i.style.color=P,i.innerHTML="Passwords Does Not Match!")):(a.style.backgroundColor=M,i.innerHTML=" ",e.style.backgroundColor=M,o.style.color=P,o.innerHTML="Passwords Must be 6 to 20 characters only!")}function s(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#default").attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}$(".btn-file :file").on("fileselect",function(e,t,a){var o=$(this).parents(".input-group").find(":text"),i=t>1?t+" files selected":a;o.length?o.val(i):i&&alert(i)}),$("#SubmitButton").prop("disabled",!0);var l=new Date,r=l.getDate(),d=l.getMonth()+1,c=l.getFullYear(),u=l.getHours(),f=l.getMinutes(),p=l.getSeconds();10>r&&(r="0"+r),10>d&&(d="0"+d),l=d+"-"+r+"-"+c;var v=u+":"+f+":"+p;$(".carousel").carousel(),$("#startDate, #grp-startDate").click(function(){$(this).data("date",l),$("#grp-startDate").val(l),$("#startDate").val(l),$(this).datepicker("show")}),$("#endDate, #grp-endDate").click(function(){$(this).val(""),$(this).data("date",l),$("#grp-endDate").val(l),$("#endDate").val(l),$(this).datepicker("show")}),$("#endDate").focus(function(){var e=$(this).val(),t=e+" "+v;$(this).val(t)}),$("#endDate").focusout(function(){var e=$(this).val(),t=e+" "+v;$(this).val(t)}),$("#endDate").change(function(){var e=$(this).val(),t=e+" "+v;$(this).val(t)}),$("#startDate").change(function(){var a=$(this).val();l>a?($("#SubmitButton").prop("disabled",!0),e("Invalid Date! Starting Date must not be a PAST date.")):($("#SubmitButton").prop("disabled",!1),t())}),$("#endDate").change(function(){var a=$(this).val();l+" "+v>=a?($("#SubmitButton").prop("disabled",!0),e("Invalid Date! End Date must not be a PAST or a CURRENT date.")):($("#SubmitButton").prop("disabled",!1),t())}),$("#standard").click(function(){$(this).addClass("active"),$("#customized").removeClass("active")}),$("#customized").click(function(){$(this).addClass("active"),$("#standard").removeClass("active")}),$("#standard").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#customized").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#affiliation").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#customized").click(function(){var e=parseFloat($("#bidIncrement").val());o(e)}),$("#standard").click(function(){a()}),$("#MinimumPrice").keyup(function(i){if(46==i.keyCode||8==i.keyCode||9==i.keyCode||27==i.keyCode||13==i.keyCode||65==i.keyCode&&i.ctrlKey===!0||i.keyCode>=35&&i.keyCode<=39)return t(),void 0;if((i.shiftKey||(i.keyCode<48||i.keyCode>57)&&(i.keyCode<96||i.keyCode>105))&&(e("Only Numbers are accepted"),i.preventDefault()),$("#standard").hasClass("active"))a();else{var n=parseFloat($("#bidIncrement").val());o(n)}}),$("#bidIncrement").keyup(function(){var e;e=""==$("#bidIncrement").val()?.01:$("#bidIncrement").val(),o(e)}),$("#bidIncrement").change(function(){if(""==$("#bidIncrement").val()||0==$("#bidIncrement").val()){var e=.01;$("#bidIncrement").val(e),e=$("#bidIncrement").val()}else e=$("#bidIncrement").val();o(e)}),$("#affiliation").click(function(){$(".validateAffOption").hide(),$(".affiliation").show(),$(this).hide()}),$("#disableAffiliation").click(function(){$(".validateAffOption").show(),$(".affiliation").hide(),$("#affiliation").show()}),$("#fileName").attr("disabled",!0),$("#fileUpload").click(function(){this.value=null}),$("#fileUpload").change(function(){var a=$(this).val(),o=$(this).get(0).files[0].size,i=$(this).data("max-size");if(i>=o)switch(t(),a.substring(a.lastIndexOf(".")+1).toLowerCase()){case"gif":case"jpg":case"png":case"bmp":$("#SubmitButton").prop("disabled",!1),t();break;default:$("#SubmitButton").prop("disabled",!0),e("Invalid File Format! Please select an Image file (.png, .jpg, .gif or .bmp).")}else e("File size limit exceeded! Please select or resize the Image to at least 5MB.")}),$("#copyrightFileUpload").click(function(){this.value=null}),$("#copyrightFileUpload").change(function(){var a=$(this).val();switch(a.substring(a.lastIndexOf(".")+1).toLowerCase()){case"zip":case"rar":$("#SubmitButton").prop("disabled",!1),t();break;default:$("#SubmitButton").prop("disabled",!0),e("Invalid File Format! Please compress your file first (.zip or .rar).")}}),$("#productUpload").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#downloadLink").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#productUpload").click(function(){$(this).addClass("active"),$("#downloadLink").removeClass("active"),$(".downloadLink").hide(),$(".uploadProduct").show()}),$("#downloadLink").click(function(){$(this).addClass("active"),$("#productUpload").removeClass("active"),$(".uploadProduct").hide(),$(".downloadLink").show()}),$("#download-Link").change(function(){var a=$(this).val();"http://"!=a.substr(0,7)?($("#SubmitButton").prop("disabled",!0),e("Invalid URL! Download link must start with http://")):($("#SubmitButton").prop("disabled",!0),t())}),$("#selectCategory").change(function(){var e=$(this).val();$.post("fetchSubCategory",{val:e},function(e){$("#subCategory").find("option").remove().end(),$.each(e,function(e,t){$("#subCategory").append($("<option/>").val(e).text(t))})})}),$("#qty").keydown(function(e){i(e)}),$("#affiliatePercentage").keydown(function(e){i(e)}),$("#bidIncrement").keydown(function(e){i(e)}),$("#MinimumPrice").keydown(function(e){i(e)}),$("#buyoutPrice").keydown(function(e){i(e)}),$("[name='amount']").keydown(function(e){i(e)}),$("[name='amount']").blur(function(){var e=parseFloat(this.value);$(this).val(e.toFixed(2))}),$("#cvv2").keydown(function(e){i(e)}),$("#cardNumber").keydown(function(e){i(e)});var m=$("#progressbar"),h=$("#statustxt"),b=$("#SubmitButton"),g=$("#fileupload"),y=$(".saving"),k=$(".saved"),w="0%";$(g).ajaxForm({beforeSend:function(){b.attr("disabled",""),h.empty(),m.css({width:w}),h.css("color","#000")},uploadProgress:function(e,t,a,o){m.css({width:o+"%"}),h.css({html:o+"%"}),o>50&&h.css("color","#fff")},complete:function(){h.css({html:"100%"}),y.css({display:"none"}),k.css({display:"block"}),b.removeAttr("disabled")}});var C=document.title;document.getElementsByTagName("body")[0].id=C,"Login"==C?($(".nav-dropdown").hide(),$("#Login a:contains('Login')").parent().addClass("active")):$("ul.nav li.dropdown").hover(function(){$(".dropdown-menu",this).fadeIn()},function(){$(".dropdown-menu",this).fadeOut("fast")}),$("#"+C+" a:contains('"+C+"')").parent().addClass("active"),$("#Edit a:contains('Profile')").parent().addClass("active"),$("#"+C+" a:contains("+C+")").parent().addClass("active"),$(".sidehead ul:contains("+C+")").removeClass("collapse");var I="#66cc66",M="#FFE6BB",D="#C3FDB8",P="red";$("#password_confirmation").keyup(function(){n()}),$("#password").keyup(function(){n()}),$("#username").on("blur",function(e){e.preventDefault();var t=$("#username").val();$.post("searchUser",{username:t},function(e){var a=document.getElementById("username"),o=document.getElementById("searchMessage"),i=t.length;0==e?2>=i?(a.style.backgroundColor=M,o.style.color=P,o.innerHTML="Must consist 3 or more characters!"):(a.style.backgroundColor=D,o.style.color=I,o.innerHTML="Username Available"):1==e&&(a.style.backgroundColor=M,o.style.color=P,o.innerHTML="Username Taken!")})}),$("#email").on("blur",function(e){e.preventDefault();var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,a=document.getElementById("email"),o=document.getElementById("searchEmail"),i=$("#email").val();return t.test(a.value)?($.post("searchEmail",{email:i},function(e){0==e?(a.style.backgroundColor=D,o.style.color=I,o.innerHTML="Email Available"):(a.style.backgroundColor=M,o.style.color=P,o.innerHTML="Email Taken!")}),void 0):(a.style.backgroundColor=M,o.style.color=P,o.innerHTML="Invalid Email Address!",i.focus,!1)}),$("#sidebar-wrapper").hover(function(e){e.preventDefault(),$("#wrapper").addClass("toggled")},function(){$("#wrapper").removeClass("toggled")}),$("#userImage").change(function(){s(this)}),$(".sidehead").click(function(){$(this).children("ul").toggleClass("collapse")}),$(fileupload).submit(function(){var t=$("#startDate").val(),a=$("#endDate").val(),o=$("#fileUpload").val(),i=$("#copyrightFileUpload").val(),n=$("#productFile").val(),s=$("#download-Link").val();""!=t&&""!=a&&""!=o&&""!=i&&(""!=n||""!=s?$(".bs-example-modal-sm").modal("show"):e("Please provide the Product item or its download link"))})});