$(document).on("change",".btn-file :file",function(){var e=$(this),t=e.get(0).files?e.get(0).files.length:1,a=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[t,a])}),$(document).ready(function(){function e(e){$(".error-msg").text(e),$(".error-panel").animate({opacity:"1",width:"100%"},300)}function t(){$(".error-msg").text(""),$(".error-panel").animate({opacity:"0",width:"0%"},300)}function a(){if(""!=$("#MinimumPrice").val()){var t=parseFloat($("#MinimumPrice").val());if(0!=t){var a=.05*t,i=t+a;$("#bid-price").text("$"+i.toFixed(2)),$(".customized-bid").hide(),$(".next-bid-info").show()}else $(".next-bid-info").hide(),e("Minimum Price must NOT be 0")}else $(".next-bid-info").hide(),e("Minimum Price must NOT be EMPTY!")}function i(a){var i=$("#MinimumPrice").val();if(t(),""!=i)if(0!=i){var o=parseFloat(a);i=parseFloat(i);var n=parseFloat(o+i);$("#customBid").text("$"+n.toFixed(2)),$(".next-bid-info").hide(),$(".customized-bid").show()}else e("Minimum Price must NOT be 0");else $(".customized-bid").hide(),e("Minimum Price must NOT be EMPTY")}function o(){var e=document.getElementById("password"),t=e.value,a=document.getElementById("password_confirmation"),i=document.getElementById("confirmMessage"),o=document.getElementById("confirmMessage2");t.length>=6&&t.length<=20?(i.innerHTML=" ",e.value==a.value?(e.style.backgroundColor=M,a.style.backgroundColor=w,o.style.color=w,o.innerHTML="Passwords Match!"):(e.style.backgroundColor=I,a.style.backgroundColor=I,o.style.color=B,o.innerHTML="Passwords Does Not Match!")):(a.style.backgroundColor=I,o.innerHTML=" ",e.style.backgroundColor=I,i.style.color=B,i.innerHTML="Passwords Must be 6 to 20 characters only!")}function n(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#default").attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}$(".btn-file :file").on("fileselect",function(e,t,a){var i=$(this).parents(".input-group").find(":text"),o=t>1?t+" files selected":a;i.length?i.val(o):o&&alert(o)}),$("#SubmitButton").prop("disabled",!0);var s=new Date,l=s.getDate(),r=s.getMonth()+1,d=s.getFullYear(),c=s.getHours(),u=s.getMinutes(),f=s.getSeconds();10>l&&(l="0"+l),10>r&&(r="0"+r),s=r+"-"+l+"-"+d;var v=c+":"+u+":"+f;$(".carousel").carousel(),$("#startDate, #grp-startDate").click(function(){$(this).data("date",s),$("#grp-startDate").val(s),$("#startDate").val(s),$(this).datepicker("show")}),$("#endDate, #grp-endDate").click(function(){$(this).val(""),$(this).data("date",s),$("#grp-endDate").val(s),$("#endDate").val(s),$(this).datepicker("show")}),$("#endDate").focus(function(){var e=$(this).val(),t=e+" "+v;$(this).val(t)}),$("#endDate").focusout(function(){var e=$(this).val(),t=e+" "+v;$(this).val(t)}),$("#endDate").change(function(){var e=$(this).val(),t=e+" "+v;$(this).val(t)}),$("#startDate").change(function(){var a=$(this).val();s>a?($("#SubmitButton").prop("disabled",!0),e("Invalid Date! Starting Date must not be a PAST date.")):($("#SubmitButton").prop("disabled",!1),t())}),$("#endDate").change(function(){var a=$(this).val();s+" "+v>=a?($("#SubmitButton").prop("disabled",!0),e("Invalid Date! End Date must not be a PAST or a CURRENT date.")):($("#SubmitButton").prop("disabled",!1),t())}),$("#standard").click(function(){$(this).addClass("active"),$("#customized").removeClass("active")}),$("#customized").click(function(){$(this).addClass("active"),$("#standard").removeClass("active")}),$("#standard").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#customized").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#affiliation").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#customized").click(function(){var e=parseFloat($("#bidIncrement").val());i(e)}),$("#standard").click(function(){a()}),$("#MinimumPrice").keyup(function(o){if(46==o.keyCode||8==o.keyCode||9==o.keyCode||27==o.keyCode||13==o.keyCode||65==o.keyCode&&o.ctrlKey===!0||o.keyCode>=35&&o.keyCode<=39)return t(),void 0;if((o.shiftKey||(o.keyCode<48||o.keyCode>57)&&(o.keyCode<96||o.keyCode>105))&&(e("Only Numbers are accepted"),o.preventDefault()),$("#standard").hasClass("active"))a();else{var n=parseFloat($("#bidIncrement").val());i(n)}}),$("#bidIncrement").keyup(function(){var e;e=""==$("#bidIncrement").val()?.01:$("#bidIncrement").val(),i(e)}),$("#bidIncrement").change(function(){if(""==$("#bidIncrement").val()||0==$("#bidIncrement").val()){var e=.01;$("#bidIncrement").val(e),e=$("#bidIncrement").val()}else e=$("#bidIncrement").val();i(e)}),$("#affiliation").click(function(){$(".validateAffOption").hide(),$(".affiliation").show(),$(this).hide()}),$("#disableAffiliation").click(function(){$(".validateAffOption").show(),$(".affiliation").hide(),$("#affiliation").show()}),$("#fileName").attr("disabled",!0),$("#fileUpload").click(function(){this.value=null}),$("#fileUpload").change(function(){var a=$(this).val(),i=$(this).get(0).files[0].size,o=$(this).data("max-size");if(o>=i)switch(t(),a.substring(a.lastIndexOf(".")+1).toLowerCase()){case"gif":case"jpg":case"png":case"bmp":$("#SubmitButton").prop("disabled",!1),t();break;default:$("#SubmitButton").prop("disabled",!0),e("Invalid File Format! Please select an Image file (.png, .jpg, .gif or .bmp).")}else e("File size limit exceeded! Please select or resize the Image to at least 5MB.")}),$("#copyrightFileUpload").click(function(){this.value=null}),$("#copyrightFileUpload").change(function(){var a=$(this).val();switch(a.substring(a.lastIndexOf(".")+1).toLowerCase()){case"zip":case"rar":$("#SubmitButton").prop("disabled",!1),t();break;default:$("#SubmitButton").prop("disabled",!0),e("Invalid File Format! Please compress your file first (.zip or .rar).")}}),$("#productUpload").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#downloadLink").hover(function(){$(this).popover("show")},function(){$(this).popover("hide")}),$("#productUpload").click(function(){$(this).addClass("active"),$("#downloadLink").removeClass("active"),$(".downloadLink").hide(),$(".uploadProduct").show()}),$("#downloadLink").click(function(){$(this).addClass("active"),$("#productUpload").removeClass("active"),$(".uploadProduct").hide(),$(".downloadLink").show()}),$("#download-Link").change(function(){var a=$(this).val();"http://"!=a.substr(0,7)?($("#SubmitButton").prop("disabled",!0),e("Invalid URL! Download link must start with http://")):($("#SubmitButton").prop("disabled",!0),t())}),$("#selectCategory").change(function(){var e=$(this).val();$.post("fetchSubCategory",{val:e},function(e){$("#subCategory").find("option").remove().end(),$.each(e,function(e,t){$("#subCategory").append($("<option/>").val(e).text(t))})})});var p=$("#progressbar"),m=$("#statustxt"),h=$("#SubmitButton"),b=$("#fileupload"),g=$(".saving"),y=$(".saved"),k="0%";$(b).ajaxForm({beforeSend:function(){h.attr("disabled",""),m.empty(),p.css({width:k}),m.css("color","#000")},uploadProgress:function(e,t,a,i){p.css({width:i+"%"}),m.css({html:i+"%"}),i>50&&m.css("color","#fff")},complete:function(){m.css({html:"100%"}),g.css({display:"none"}),y.css({display:"block"}),h.removeAttr("disabled")}});var C=document.title;document.getElementsByTagName("body")[0].id=C,"Login"==C?($(".nav-dropdown").hide(),$("#Login a:contains('Login')").parent().addClass("active")):$("ul.nav li.dropdown").hover(function(){$(".dropdown-menu",this).fadeIn()},function(){$(".dropdown-menu",this).fadeOut("fast")}),$("#Register a:contains('Register')").parent().addClass("active"),$("#Home a:contains('Home')").parent().addClass("active"),$("#Dashboard a:contains('Dashboard')").parent().addClass("active"),$("#Edit a:contains('Profile')").parent().addClass("active"),$("#Invoices a:contains('Invoices')").parent().addClass("active"),"Bids"==C&&($("#Bids a:contains('Bids')").parent().addClass("active"),$(".sidehead ul:contains('Bids')").removeClass("collapse"));var w="#66cc66",I="#FFE6BB",M="#C3FDB8",B="red";$("#password_confirmation").keyup(function(){o()}),$("#password").keyup(function(){o()}),$("#username").on("blur",function(e){e.preventDefault();var t=$("#username").val();$.post("searchUser",{username:t},function(e){var a=document.getElementById("username"),i=document.getElementById("searchMessage"),o=t.length;0==e?2>=o?(a.style.backgroundColor=I,i.style.color=B,i.innerHTML="Must consist 3 or more characters!"):(a.style.backgroundColor=M,i.style.color=w,i.innerHTML="Username Available"):1==e&&(a.style.backgroundColor=I,i.style.color=B,i.innerHTML="Username Taken!")})}),$("#email").on("blur",function(e){e.preventDefault();var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,a=document.getElementById("email"),i=document.getElementById("searchEmail"),o=$("#email").val();return t.test(a.value)?($.post("searchEmail",{email:o},function(e){0==e?(a.style.backgroundColor=M,i.style.color=w,i.innerHTML="Email Available"):(a.style.backgroundColor=I,i.style.color=B,i.innerHTML="Email Taken!")}),void 0):(a.style.backgroundColor=I,i.style.color=B,i.innerHTML="Invalid Email Address!",o.focus,!1)}),$("#userImage").change(function(){n(this)}),$(".sidehead").click(function(){$(this).children("ul").toggleClass("collapse")}),$(fileupload).submit(function(){var t=$("#startDate").val(),a=$("#endDate").val(),i=$("#fileUpload").val(),o=$("#copyrightFileUpload").val(),n=$("#productUpload").val(),s=$("#download-Link").val();""!=t&&""!=a&&""!=i&&""!=o&&(""!=n||""!=s?$(".bs-example-modal-sm").modal("show"):e("Please provide the Product item or its download link"))})});